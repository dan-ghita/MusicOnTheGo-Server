<div class="pt4em"></div>

<main>

  <nav id="music-categories">

    <ul>

      <li><span id="playlist-link">My Songs</span></li>

    </ul>

  </nav>

  <%= button_to 'Upload new song', {:controller => 'songs', :action => 'new'}, :id => "upload-button",
        :style => "
            background: #1B374C;
            color: white;
            font-size: 1.2em;
            font-family: 'Georgia', Serif;
            font-weight: bold;
            text-shadow: 0.1em 0.1em 0.1em black;
        "%>

  <div class="songs-container" id="trending">

    <% @my_music.each do |result| %>

        <% path = "http://localhost:3000/" + result[:path] %>

        <div class="song">

          <img src="http://localhost:3000/music-icon-purple.png" alt="Music icon">

          <div>

            <% name = result[:artist] + '-' + result[:title] %>
            <p>
              <%= link_to name, :controller => 'songs', :action => 'show', :id => result.id, :class => "menu-item" %>
            </p>
            <p>
              <%= result[:album] %>
            </p>
            <!--<p></p>-->

          </div>

          <%= link_to 'DELETE', :controller => 'songs', :action => 'delete', :id => result.id %>
          <a class="delete-icon-link"><img src="/delete.ico" alt="del"></a>

          <script>
              (function(){
                  var deleteIconLinks = document.getElementsByClassName('delete-icon-link');
                  for(var i=0; i<deleteIconLinks.length; ++i){
                      deleteIconLinks[i].setAttribute('href', deleteIconLinks[i].previousElementSibling.getAttribute('href'));
                  }
              })();
          </script>

        </div>

  <% end %>

  </div>

</main>

<div class="pt4em"></div>
